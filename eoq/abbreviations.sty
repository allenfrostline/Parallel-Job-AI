\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{abbreviations}

\usepackage{manfnt} %for the dangerous bend
\newcommand{\tbd}{tbd. \marginpar{\dbend}}
\newcommand{\TBD}{tbd. \marginpar{\dbend}}

\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\argmax}{\operatornamewithlimits{arg\,max}}
\newcommand{\alt}[2]{\underline{#1}\marginpar{#2}}

\newcommand{\B}{\mathbb{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Nn}{\mathbb{N}_{0}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\p}{\mathbb{P}}

\newcommand{\abs}[1]{\left\vert#1\right\vert}
%\newcommand{\E}[1]{\,\mathbb{E}\left[#1\right]}
\newcommand{\given}{\,\middle|\,}
\renewcommand{\P}[1]{\,\mathbb{P}\left\{#1\right\}}
\newcommand{\V}[1]{\,\mathbb{V}\left[#1\right]}
%\newcommand{\PP}[2]{\,\mathbb{P}_{#1}\left(#2\right)}
%\newcommand{\EE}[2]{\,\mathbb{E}_{#1}\left[#2\right]}
\renewcommand{\d}[1]{\,\mathrm{d}#1}
\newcommand{\1}[1]{\,\mathbb{1}_{#1}} % indicator
\newcommand{\2}[2]{\,\mathbb{1}_{#1}\left(#2\right)} % indicator
\newcommand{\set}[2]{\left\{ #1 : #2 \right\}} % indicator


\newcommand{\wip}{\text{WIP}}
\newcommand{\WIP}{\text{WIP}}
\newcommand{\ct}{\text{CT}}
\newcommand{\CT}{\text{CT}}
\renewcommand{\TH}{\text{TH}}
\renewcommand{\th}{\text{TH}}
\newcommand{\scv}{\text{SCV}}

\makeatletter
\def\integral#1#2{\def\temp@expr{#1\,\mathrm d#2}\int\integral@}
\def\integral@{%
    \@ifnextchar{_}{\integral@sub}{%
    \@ifnextchar{^}{\integral@sup}{\temp@expr}}%
}%
\def\integral@sub#1#2{_{#2}\integral@}
\def\integral@sup#1#2{^{#2}\integral@}
\makeatother

\makeatletter
\def\E#1{\def\temp@expr{\left\{#1\right\}}{\mathsf{E}}\expectation@}
\def\expectation@{%
    \@ifnextchar{_}{\expectation@sub}{%
    \@ifnextchar{^}{\expectation@sup}{\temp@expr}}%
}%
\def\expectation@sub#1#2{_{#2}\expectation@}
\def\expectation@sup#1#2{^{#2}\expectation@}
\makeatother

\makeatletter
\def\P#1{\def\temp@expr{\left\{#1\right\}}{\mathsf{P}}\expectation@}
\def\expectation@{%
    \@ifnextchar{_}{\expectation@sub}{%
    \@ifnextchar{^}{\expectation@sup}{\temp@expr}}%
}%
\def\expectation@sub#1#2{_{#2}\expectation@}
\def\expectation@sup#1#2{^{#2}\expectation@}
\makeatother

% example on how to use the above definitions.
% \[
%     \integral{x^2}{x} \qquad
%     \integral{x^2}{x}_a \qquad
%     \integral{x^2}{x}^b \qquad
%     \integral{x^2}{x}_a^b \qquad
%     \integral{x^2}{x}^b_a \quad
%     \E{\int_0^\infty x^2 dx \given A}^b_a \quad
% \]

\endinput
